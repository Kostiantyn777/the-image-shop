(this["webpackJsonpthe-image-shop"]=this["webpackJsonpthe-image-shop"]||[]).push([[0],{27:function(e,t,c){},33:function(e,t,c){"use strict";c.r(t);var n=c(1),r=c(0),i=c.n(r),a=c(19),o=c.n(a),s=(c(27),c(2)),u=c(9),j=c(21),l=c(17),b=c(7),d=i.a.createContext();function O(e){var t=e.children,c=Object(r.useState)([]),i=Object(b.a)(c,2),a=i[0],o=i[1],s=Object(r.useState)([]),u=Object(b.a)(s,2),O=u[0],h=u[1];return Object(r.useEffect)((function(){fetch("https://raw.githubusercontent.com/bobziroll/scrimba-react-bootcamp-images/master/images.json").then((function(e){return e.json()})).then((function(e){return o(e)}))}),[]),Object(n.jsx)(d.Provider,{value:{allPhotos:a,toggleFavorite:function(e){var t=a.map((function(t){return t.id===e?Object(l.a)(Object(l.a)({},t),{},{isFavorite:!t.isFavorite}):t}));o(t)},cartItems:O,addToCart:function(e){h((function(t){return[].concat(Object(j.a)(t),[e])}))},removeFromCart:function(e){h((function(t){return t.filter((function(t){return t.id!==e}))}))},emptyCart:function(){h([])}},children:t})}var h=function(){var e=Object(r.useContext)(d).cartItems.length>0?"ri-shopping-cart-fill":"ri-shopping-cart-line";return Object(n.jsxs)("header",{children:[Object(n.jsx)(u.b,{to:"/",children:Object(n.jsx)("h2",{children:"Pic Some"})}),Object(n.jsx)(u.b,{to:"/cart",children:Object(n.jsx)("i",{className:"".concat(e," ri-fw ri-2x")})})]})};var m=function(e){var t=e.item,c=Object(r.useState)(!1),i=Object(b.a)(c,2),a=i[0],o=i[1],s=Object(r.useContext)(d).removeFromCart,u=a?"ri-delete-bin-fill":"ri-delete-bin-line";return Object(n.jsxs)("div",{className:"cart-item",children:[Object(n.jsx)("i",{className:u,onClick:function(){return s(t.id)},onMouseEnter:function(){return o(!0)},onMouseLeave:function(){return o(!1)}}),Object(n.jsx)("img",{src:t.url,width:"130px"}),Object(n.jsx)("p",{children:"\u20ac5.99"})]})};var f=function(){var e=Object(r.useState)("Place Order"),t=Object(b.a)(e,2),c=t[0],i=t[1],a=Object(r.useContext)(d),o=a.cartItems,s=a.emptyCart,u=(5.99*o.length).toLocaleString("de-DE",{style:"currency",currency:"EUR"}),j=o.map((function(e){return Object(n.jsx)(m,{item:e},e.id)}));return Object(n.jsxs)("main",{className:"cart-page",children:[Object(n.jsx)("h1",{children:"Check out"}),j,Object(n.jsxs)("p",{className:"total-cost",children:["Total: ",u]}),o.length>0?Object(n.jsx)("div",{className:"order-button",children:Object(n.jsx)("button",{onClick:function(){i("Ordering..."),setTimeout((function(){console.log("Order placed!"),i("Place Order"),s()}),3e3)},children:c})}):Object(n.jsx)("p",{children:"You have no items in your cart."})]})};var x=function(e){var t=e.className,c=e.img,i=Object(r.useState)(!1),a=Object(b.a)(i,2),o=a[0],s=a[1],u=Object(r.useContext)(d),j=u.toggleFavorite,l=u.addToCart,O=u.cartItems,h=u.removeFromCart;return Object(n.jsxs)("div",{className:"".concat(t," image-container"),onMouseEnter:function(){return s(!0)},onMouseLeave:function(){return s(!1)},children:[Object(n.jsx)("img",{src:c.url,className:"image-grid"}),c.isFavorite?Object(n.jsx)("i",{className:"ri-heart-fill favorite",onClick:function(){return j(c.id)}}):o?Object(n.jsx)("i",{className:"ri-heart-line favorite",onClick:function(){return j(c.id)}}):void 0,O.some((function(e){return e.id===c.id}))?Object(n.jsx)("i",{className:"ri-shopping-cart-fill cart",onClick:function(){return h(c.id)}}):o?Object(n.jsx)("i",{className:"ri-add-circle-line cart",onClick:function(){return l(c)}}):void 0]})};function v(e){return e%5===0?"big":e%6===0?"wide":void 0}var g=function(){var e=Object(r.useContext)(d).allPhotos.map((function(e,t){return Object(n.jsx)(x,{img:e,className:v(t)},e.id)}));return Object(n.jsx)("main",{className:"photos",children:e})};var p=function(){return Object(n.jsxs)("div",{children:[Object(n.jsx)(h,{}),Object(n.jsxs)(s.c,{children:[Object(n.jsx)(s.a,{exact:!0,path:"/",children:Object(n.jsx)(g,{})}),Object(n.jsx)(s.a,{path:"/cart",children:Object(n.jsx)(f,{})})]})]})},C=function(e){e&&e instanceof Function&&c.e(3).then(c.bind(null,34)).then((function(t){var c=t.getCLS,n=t.getFID,r=t.getFCP,i=t.getLCP,a=t.getTTFB;c(e),n(e),r(e),i(e),a(e)}))};o.a.render(Object(n.jsx)(O,{children:Object(n.jsx)(u.a,{children:Object(n.jsx)(i.a.StrictMode,{children:Object(n.jsx)(p,{})})})}),document.getElementById("root")),C()}},[[33,1,2]]]);
//# sourceMappingURL=main.127b54b3.chunk.js.map